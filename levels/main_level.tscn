[gd_scene load_steps=11 format=3 uid="uid://dgosfcny4uuf7"]

[ext_resource type="Material" uid="uid://cy3xcwa66o6g8" path="res://levels/materials/grey.tres" id="1_ilwad"]
[ext_resource type="PackedScene" uid="uid://c0up5qblv1hqx" path="res://entities/player/player.tscn" id="2_0vhbo"]
[ext_resource type="Texture2D" uid="uid://bbim1gj2sleoi" path="res://levels/level-floorplan.png" id="3_ldao0"]
[ext_resource type="PackedScene" uid="uid://yu0e2dyvtehf" path="res://pickups/_308_pickup.tscn" id="4_yb8kn"]
[ext_resource type="PackedScene" uid="uid://dfkvb8paac0dv" path="res://pickups/_9_mm_pickup.tscn" id="5_43k3a"]
[ext_resource type="PackedScene" uid="uid://ou73nocysfb3" path="res://entities/enemy/enemy.tscn" id="6_ttu8v"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_0vhbo"]
sky_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)
ground_horizon_color = Color(0.662243, 0.671743, 0.686743, 1)

[sub_resource type="Sky" id="Sky_ldao0"]
sky_material = SubResource("ProceduralSkyMaterial_0vhbo")

[sub_resource type="Environment" id="Environment_55n5f"]
background_mode = 2
sky = SubResource("Sky_ldao0")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_yb8kn"]
vertices = PackedVector3Array(-19.0135, -3.5, -17.9, -19.0135, -3.5, -12.9, -11.2635, -3.5, -12.9, -11.2635, -3.5, -17.9, -16.5135, -0.5, -12.4, -15.0135, -0.5, -12.4, -14.7635, -0.5, -12.9, -19.0135, -0.5, -17.9, -16.7635, -0.5, -12.9, 0.2365, -3.5, -12.9, 0.2365, -3.5, -17.9, -10.6726, -0.5, -12.9, -2.49077, -3.5, -12.9, -2.72504, -3.5, -17.9, -11.6097, -0.5, -17.9, -19.0135, -0.5, -12.9, -10.0135, -3.5, -17.9, -10.0135, -3.5, -12.9, -7.7635, -3.5, -12.9, -7.7635, -3.5, -17.9, -9.0135, -0.5, 8.35, -6.5135, -0.5, 8.35, -6.5135, -0.5, 6.85, -9.2635, -0.5, 6.6, -9.2635, -0.5, -6.4, -10.2635, -0.5, -4.9, -10.2635, -0.5, 8.85, -11.5135, -0.5, 10.35, -9.2635, -0.5, 10.1, -12.5135, -0.5, 10.1, -16.5135, -0.5, -6.65, -20.7635, -0.5, -6.4, -20.0135, -0.5, -4.9, -15.0135, -0.5, -6.65, -12.5135, -0.5, 15.85, -11.2635, -0.5, 15.85, -20.7635, -0.5, 10.1, -20.0135, -0.5, 8.85, -20.7635, -3.5, -6.4, -20.2635, -3.5, -5.15, -10.0135, -3.5, -5.15, -9.2635, -3.5, -6.4, -20.7635, -3.5, 10.1, -9.2635, -3.5, 10.1, -10.0135, -3.5, 9.1, -20.2635, -3.5, 9.1, -19.0135, -3.5, -4.15, -19.0135, -3.5, 8.1, -11.2635, -3.5, 8.1, -11.2635, -3.5, -4.15, 5.4865, -2.5, 0.349998, 5.4865, -2.5, -0.400002, 3.4865, -2.5, -0.650002, 3.4865, -2.5, 0.599998, 0.4865, -2.5, 3.6, 3.4865, -2.5, 3.35, -0.2635, -2.5, 3.6, -0.2635, -2.5, 8.6, 0.4865, -2.5, 8.6, 3.4865, -2.5, -3.4, -3.2635, -2.5, -3.4, -3.2635, -2.5, 3.35, 6.7365, -2.5, 0.599998, 7.4865, -2.5, -0.400002, 6.7365, -3.5, 11.35, 2.9865, -3.5, 11.6, 2.7365, -3.5, 12.6, 7.4865, -3.5, 12.35, -3.2635, -3.5, 15.1, -1.7635, -3.5, 15.35, -1.0135, -3.25, 15.35, 1.2365, -3.25, 15.35, 2.2365, -3.5, 15.35, 2.2365, -3.5, 20.35, 2.7365, -3.5, 20.35, 2.7365, -3.5, 9.6, -3.2635, -3.5, 9.6, -6.0135, -0.5, 8.6, -4.5135, -0.5, 6.85, -6.0135, -0.5, 23.1, -4.0135, -0.5, 21.35, 2.7365, -0.5, 23.1, 2.7365, -0.5, 21.35, 1.2365, -0.5, 21.1, -1.0135, -0.5, 21.1, -6.0135, -3.5, 9.6, -6.0135, -3.5, 18.1, -4.5135, -3.5, 18.1, -4.5135, -3.5, 9.6, -12.0135, -3.5, 24.1, -12.5135, -3.25, 24.1, -12.5135, -3.5, 25.6, -9.2635, -3.5, 25.6, -9.0135, -3.5, 20.1, -12.0135, -3.5, 19.35, -3.5135, -3.5, 19.35, -2.0135, -3.5, 20.35, -15.0135, -3.5, 15.85, -15.0135, -3.5, 18.1, -9.2635, -3.5, 18.1, -9.2635, -3.5, 15.85, -13.0135, -3.25, 24.1, -15.0135, -3.5, 25.6, -13.0135, -0.5, 18.6, -15.0135, -0.5, 15.85, -9.2635, -0.5, 18.35, -9.2635, -0.5, 15.85, -15.0135, -0.5, 18.6357, -15.0135, -3.25, 24.2071, -0.7635, -3.5, 18.85, -0.7635, -3.5, 20.1, 0.9865, -3.5, 20.1, 0.9865, -3.5, 18.85, -15.0135, -3.5, 19.35, -15.0135, -3.5, 20.6, -13.2635, -3.5, 20.6, -13.2635, -3.5, 19.35, -6.0135, -3.5, 23.1, 2.7365, -3.5, 23.1, 2.7365, -3.5, 21.6, -6.0135, -3.5, 21.35)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(4, 8, 5), PackedInt32Array(5, 8, 6), PackedInt32Array(6, 8, 7), PackedInt32Array(9, 12, 10), PackedInt32Array(10, 12, 13), PackedInt32Array(13, 12, 11), PackedInt32Array(13, 11, 14), PackedInt32Array(14, 11, 6), PackedInt32Array(14, 6, 7), PackedInt32Array(8, 15, 7), PackedInt32Array(19, 18, 16), PackedInt32Array(16, 18, 17), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 26), PackedInt32Array(20, 28, 26), PackedInt32Array(26, 28, 27), PackedInt32Array(26, 27, 29), PackedInt32Array(31, 30, 32), PackedInt32Array(32, 30, 33), PackedInt32Array(32, 33, 25), PackedInt32Array(25, 33, 24), PackedInt32Array(35, 34, 27), PackedInt32Array(27, 34, 29), PackedInt32Array(26, 23, 20), PackedInt32Array(37, 36, 32), PackedInt32Array(32, 36, 31), PackedInt32Array(30, 4, 33), PackedInt32Array(33, 4, 5), PackedInt32Array(36, 37, 29), PackedInt32Array(29, 37, 26), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 41), PackedInt32Array(45, 44, 42), PackedInt32Array(42, 44, 43), PackedInt32Array(45, 42, 39), PackedInt32Array(39, 42, 38), PackedInt32Array(44, 40, 43), PackedInt32Array(43, 40, 41), PackedInt32Array(49, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(50, 53, 51), PackedInt32Array(51, 53, 52), PackedInt32Array(52, 53, 54), PackedInt32Array(53, 55, 54), PackedInt32Array(54, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(56, 61, 54), PackedInt32Array(54, 61, 52), PackedInt32Array(52, 61, 59), PackedInt32Array(59, 61, 60), PackedInt32Array(50, 51, 62), PackedInt32Array(62, 51, 63), PackedInt32Array(65, 64, 66), PackedInt32Array(66, 64, 67), PackedInt32Array(70, 69, 68), PackedInt32Array(71, 70, 68), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 66), PackedInt32Array(62, 63, 64), PackedInt32Array(64, 63, 67), PackedInt32Array(66, 72, 71), PackedInt32Array(65, 66, 75), PackedInt32Array(75, 66, 71), PackedInt32Array(75, 71, 68), PackedInt32Array(75, 68, 76), PackedInt32Array(21, 22, 77), PackedInt32Array(77, 22, 78), PackedInt32Array(78, 80, 77), PackedInt32Array(77, 80, 79), PackedInt32Array(82, 81, 83), PackedInt32Array(83, 81, 84), PackedInt32Array(84, 81, 80), PackedInt32Array(80, 81, 79), PackedInt32Array(84, 70, 83), PackedInt32Array(83, 70, 71), PackedInt32Array(88, 87, 85), PackedInt32Array(85, 87, 86), PackedInt32Array(90, 89, 91), PackedInt32Array(91, 89, 92), PackedInt32Array(94, 93, 89), PackedInt32Array(89, 93, 92), PackedInt32Array(68, 69, 95), PackedInt32Array(95, 69, 96), PackedInt32Array(96, 93, 95), PackedInt32Array(95, 93, 94), PackedInt32Array(100, 99, 97), PackedInt32Array(97, 99, 98), PackedInt32Array(90, 91, 101), PackedInt32Array(101, 91, 102), PackedInt32Array(104, 34, 103), PackedInt32Array(35, 106, 105), PackedInt32Array(34, 35, 103), PackedInt32Array(103, 35, 105), PackedInt32Array(102, 108, 101), PackedInt32Array(101, 108, 107), PackedInt32Array(101, 107, 103), PackedInt32Array(103, 107, 104), PackedInt32Array(112, 111, 109), PackedInt32Array(109, 111, 110), PackedInt32Array(116, 115, 113), PackedInt32Array(113, 115, 114), PackedInt32Array(118, 117, 119), PackedInt32Array(119, 117, 120)]

[node name="MainLevel" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_55n5f")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_yb8kn")

[node name="LevelContent" type="Node3D" parent="NavigationRegion3D"]

[node name="Overhangs" type="Node3D" parent="NavigationRegion3D/LevelContent"]

[node name="OverhangLowerLevel" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6, -2.5, 16.3)
use_collision = true
size = Vector3(10, 3, 14.675)
material = ExtResource("1_ilwad")

[node name="CutOverhangLowerLevel" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs/OverhangLowerLevel"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.44049, 0, -1.42057)
operation = 2
size = Vector3(7.29748, 3, 11.9426)
material = ExtResource("1_ilwad")

[node name="CutCorridorLowerRoomToLink" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs/OverhangLowerLevel"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -4.66404, -0.25, 3.35)
operation = 2
size = Vector3(2, 2.5, 4.9243)
material = ExtResource("1_ilwad")

[node name="OverhangLinkRoom" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.179, -2.5, 19.495)
use_collision = true
size = Vector3(6.961, 3, 8.696)
material = ExtResource("1_ilwad")

[node name="CutLinkRoom" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs/OverhangLinkRoom"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.90121)
operation = 2
size = Vector3(6.961, 3, 7.37078)
material = ExtResource("1_ilwad")

[node name="OverhangArena" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.106, -2.5, 1.891)
use_collision = true
size = Vector3(12.815, 3, 17.817)
material = ExtResource("1_ilwad")

[node name="CutArena" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs/OverhangArena"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0541449, 0, 0.0680676)
operation = 2
size = Vector3(8.99794, 3, 13.7074)
material = ExtResource("1_ilwad")

[node name="OverhangMoat" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.394, -2.5, -15.408)
use_collision = true
size = Vector3(20.49, 3, 6.428)
material = ExtResource("1_ilwad")

[node name="CutMoat" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/Overhangs/OverhangMoat"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.55341, 0, 0)
operation = 2
size = Vector3(11.3832, 3, 6.428)
material = ExtResource("1_ilwad")

[node name="MainRoom" type="CSGBox3D" parent="NavigationRegion3D/LevelContent"]
material_override = ExtResource("1_ilwad")
use_collision = true
flip_faces = true
size = Vector3(8, 6, 8)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D/LevelContent/MainRoom"]

[node name="Corridor" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2, 6.484)
flip_faces = true
size = Vector3(2, 2, 5)

[node name="CorridorLowerRoomToLink" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -7.65, -2.75, 19.65)
flip_faces = true
size = Vector3(2, 2.5, 2.101)

[node name="CorridorLinkToArena" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -11.882, 0.25, 12.97)
flip_faces = true
size = Vector3(4.4, 2.5, 2.101)

[node name="CorridorLowerRoomToArena" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.257, 0.25, 7.666)
flip_faces = true
size = Vector3(4.92007, 2.5, 2.6531)

[node name="CorridorArenaToMoat" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -15.802, 0.25, -9.614)
flip_faces = true
size = Vector3(5.244, 2.5, 2.862)

[node name="LowerRoom" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6, -1, 16.3)
flip_faces = true
size = Vector3(10, 6, 14.675)

[node name="LowerRoomExitCorridor" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 5.715, -3, 12)
flip_faces = true
size = Vector3(2, 2, 4.65)

[node name="Ramp" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(-1, -8.22721e-09, 8.70348e-08, 0, 0.995562, 0.0941083, -8.74228e-08, 0.0941083, -0.995562, 7, -2.5, 5.9)
flip_faces = true
size = Vector3(2, 2, 10.6126)

[node name="MainRoomToLedderCorridor" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6, -2, 0)
flip_faces = true
size = Vector3(2, 2, 4)

[node name="Arena" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.1057, -1, 1.8911)
flip_faces = true
size = Vector3(12.815, 6, 17.817)

[node name="Moat" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.39439, -1, -15.4083)
flip_faces = true
size = Vector3(20.49, 6, 6.428)

[node name="LinkRoom" type="CSGBox3D" parent="NavigationRegion3D/LevelContent/MainRoom/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.1786, -1, 20.6635)
flip_faces = true
size = Vector3(6.961, 6, 11.0334)

[node name="Slopes" type="Node3D" parent="NavigationRegion3D/LevelContent"]

[node name="SlopeLowerLevel" type="CSGPolygon3D" parent="NavigationRegion3D/LevelContent/Slopes"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -1.5, -4, 14.8079)
use_collision = true
polygon = PackedVector2Array(0, 0, 6, 3, 6, 0)
depth = 3.0
smooth_faces = true
material = ExtResource("1_ilwad")

[node name="SlopeLinkRoom" type="CSGPolygon3D" parent="NavigationRegion3D/LevelContent/Slopes"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -12.6, -4, 24.7445)
use_collision = true
polygon = PackedVector2Array(0, 0, 6, 3, 6, 0)
depth = 3.0
smooth_faces = true
material = ExtResource("1_ilwad")

[node name="Moat" type="CSGPolygon3D" parent="NavigationRegion3D/LevelContent/Slopes"]
transform = Transform3D(-1, 0, 1.50996e-07, 0, 1, 0, -1.50996e-07, 0, -1, -2.53, -4, -18.65)
use_collision = true
polygon = PackedVector2Array(0, 0, 8, 3, 8, 0)
depth = 6.5
smooth_faces = true
material = ExtResource("1_ilwad")

[node name="Player" parent="." instance=ExtResource("2_0vhbo")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, -1.90193, 0)

[node name="Sprite3D" type="Sprite3D" parent="."]
transform = Transform3D(-6.99382e-08, 0, 1.6, 0, 1.6, 0, -1.6, 0, -6.99382e-08, -9, -3.9, 2.806)
visible = false
axis = 1
texture = ExtResource("3_ldao0")

[node name="Pickups" type="Node3D" parent="."]

[node name="_308Pickup" parent="Pickups" instance=ExtResource("4_yb8kn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.16144, 0.842041, 7.29771)

[node name="_9mm_Pickup" parent="Pickups" instance=ExtResource("5_43k3a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.69331, -2, 0)

[node name="_9mm_Pickup2" parent="Pickups" instance=ExtResource("5_43k3a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.90931, -2, 20.1058)

[node name="Enemies" type="Node3D" parent="."]

[node name="Enemy" parent="Enemies" instance=ExtResource("6_ttu8v")]
transform = Transform3D(-0.980714, 0, -0.19545, 0, 1, 0, 0.19545, 0, -0.980714, 2.59172, -3, 19.2833)

[node name="Enemy2" parent="Enemies" instance=ExtResource("6_ttu8v")]
transform = Transform3D(0.194919, 0, 0.980819, 0, 1, 0, -0.980819, 0, 0.194919, -2.66086, -3, 10.4282)
aggressive_range = 5.0

[node name="Enemy3" parent="Enemies" instance=ExtResource("6_ttu8v")]
transform = Transform3D(-0.866025, 0, 0.5, 0, 1, 0, -0.5, 0, -0.866025, -5, 0, 23)

[node name="Enemy4" parent="Enemies" instance=ExtResource("6_ttu8v")]
transform = Transform3D(-0.765955, 0, -0.642895, 0, 1, 0, 0.642895, 0, -0.765955, -9.29797, -3, 25.4462)
aggressive_range = 5.0

[node name="Enemy5" parent="Enemies" instance=ExtResource("6_ttu8v")]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, -10, 1, 16)
aggressive_range = 5.0

[node name="Enemy6" parent="Enemies" instance=ExtResource("6_ttu8v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.0571, -2.38419e-07, -6.26278)

[node name="Enemy7" parent="Enemies" instance=ExtResource("6_ttu8v")]
transform = Transform3D(-0.831596, 0, 0.555382, 0, 1, 0, -0.555382, 0, -0.831596, -20.6888, 3.57628e-07, 9.86772)
